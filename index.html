<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Reproducing Activity Recognition of Weight Lifting Exercises</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h1>Reproducing Activity Recognition of Weight Lifting Exercises</h1>

<p>This exercise for the Coursera <a href="https://www.coursera.org/course/predmachlearn">Practical Machine Learning</a> course aims to predict types of weight lifting exercises from measurements of sensors.</p>

<p>The original data comes from:</p>

<p><em><a href="http://groupware.les.inf.puc-rio.br/public/papers/2013.Velloso.QAR-WLE.pdf">Qualitative Activity Recognition of Weight Lifting Exercises</a></em> 
Velloso, E.; Bulling, A.; Gellersen, H.; Ugulino, W.; Fuks, H. Qualitative Activity Recognition of Weight Lifting Exercises. Proceedings of 4th Augmented Human (AH) International Conference in cooperation with ACM SIGCHI (Augmented Human&#39;13) . Stuttgart, Germany: ACM SIGCHI, 2013.</p>

<h2>Data preparation</h2>

<p>First R needs to read the training and test data provided in the correct location.</p>

<pre><code class="r">setwd(&quot;C:/Users/HB/Weight_Lifting/&quot;)
datalocation &lt;- &quot;F:/Documents/Coursera/Practical Machine Learning/&quot;
training &lt;- read.csv(paste0(datalocation, &quot;pml-training.csv&quot;))
testing &lt;- read.csv(paste0(datalocation, &quot;pml-testing.csv&quot;))
</code></pre>

<p>Cleaning the training data involves removing any variables which have missing values, any variables which are not-numeric (except for the <code>classe</code> variable, which is what is being predicted) and the initial four variables <code>X</code>, <code>raw_timestamp_part_1</code>, <code>raw_timestamp_part_2</code>, and <code>num_window</code> which just give an order to the observations and may cause leakage if retained.  See how the dimension of the training dataframe reduces at each step:</p>

<pre><code class="r">dim(training)
</code></pre>

<pre><code>## [1] 19622   160
</code></pre>

<pre><code class="r">trainingnotNA &lt;- training[, colSums(is.na(training)) == 0]
dim(trainingnotNA)
</code></pre>

<pre><code>## [1] 19622    93
</code></pre>

<pre><code class="r">trainingnumeric &lt;- trainingnotNA[, sapply(trainingnotNA, is.numeric)]
dim(trainingnumeric)
</code></pre>

<pre><code>## [1] 19622    56
</code></pre>

<pre><code class="r">trainingtouse &lt;- cbind(trainingnumeric[, -(1:4)])
dim(trainingtouse)
</code></pre>

<pre><code>## [1] 19622    52
</code></pre>

<p>The following numeric variables will be used retained to training and predict <code>classe</code>:</p>

<pre><code class="r">variablestouse &lt;- names(trainingtouse)
variablestouse
</code></pre>

<pre><code>##  [1] &quot;roll_belt&quot;            &quot;pitch_belt&quot;           &quot;yaw_belt&quot;            
##  [4] &quot;total_accel_belt&quot;     &quot;gyros_belt_x&quot;         &quot;gyros_belt_y&quot;        
##  [7] &quot;gyros_belt_z&quot;         &quot;accel_belt_x&quot;         &quot;accel_belt_y&quot;        
## [10] &quot;accel_belt_z&quot;         &quot;magnet_belt_x&quot;        &quot;magnet_belt_y&quot;       
## [13] &quot;magnet_belt_z&quot;        &quot;roll_arm&quot;             &quot;pitch_arm&quot;           
## [16] &quot;yaw_arm&quot;              &quot;total_accel_arm&quot;      &quot;gyros_arm_x&quot;         
## [19] &quot;gyros_arm_y&quot;          &quot;gyros_arm_z&quot;          &quot;accel_arm_x&quot;         
## [22] &quot;accel_arm_y&quot;          &quot;accel_arm_z&quot;          &quot;magnet_arm_x&quot;        
## [25] &quot;magnet_arm_y&quot;         &quot;magnet_arm_z&quot;         &quot;roll_dumbbell&quot;       
## [28] &quot;pitch_dumbbell&quot;       &quot;yaw_dumbbell&quot;         &quot;total_accel_dumbbell&quot;
## [31] &quot;gyros_dumbbell_x&quot;     &quot;gyros_dumbbell_y&quot;     &quot;gyros_dumbbell_z&quot;    
## [34] &quot;accel_dumbbell_x&quot;     &quot;accel_dumbbell_y&quot;     &quot;accel_dumbbell_z&quot;    
## [37] &quot;magnet_dumbbell_x&quot;    &quot;magnet_dumbbell_y&quot;    &quot;magnet_dumbbell_z&quot;   
## [40] &quot;roll_forearm&quot;         &quot;pitch_forearm&quot;        &quot;yaw_forearm&quot;         
## [43] &quot;total_accel_forearm&quot;  &quot;gyros_forearm_x&quot;      &quot;gyros_forearm_y&quot;     
## [46] &quot;gyros_forearm_z&quot;      &quot;accel_forearm_x&quot;      &quot;accel_forearm_y&quot;     
## [49] &quot;accel_forearm_z&quot;      &quot;magnet_forearm_x&quot;     &quot;magnet_forearm_y&quot;    
## [52] &quot;magnet_forearm_z&quot;
</code></pre>

<p>Some R libraries are needed to perform Random Forest machine learning.</p>

<pre><code class="r">library(caret)
</code></pre>

<pre><code>## Loading required package: lattice
## Loading required package: ggplot2
</code></pre>

<pre><code class="r">library(randomForest)
</code></pre>

<pre><code>## randomForest 4.6-7
## Type rfNews() to see new features/changes/bug fixes.
</code></pre>

<pre><code class="r">library(e1071)
</code></pre>

<h2>Model fitting </h2>

<p>The original analysis by Velloso <em>et al</em> states it used a Random Forest approach, so this analysis does too. The model fitting uses the <code>caret</code> package to apply the Random Forest method to train the machine learning model using what remains of the training data after cleaning. This takes some time and uses a large amount of memory, at least on this machine.      </p>

<p>It both uses 3-fold cross validation and witholds about a fifth of the training data for further validation, to give an estimate of out-of-sample error. Setting the seed allows reproducability.</p>

<pre><code class="r">set.seed(2014)
intrain &lt;- createDataPartition(y = training$classe, p = 0.8, list = FALSE)
fitControl &lt;- trainControl(method = &quot;cv&quot;, number = 3)
modelFit &lt;- train(classe ~ ., method = &quot;rf&quot;, trControl = fitControl, data = training[intrain, 
    c(variablestouse, &quot;classe&quot;)])
</code></pre>

<h2>Results</h2>

<p>The results of the model fit suggests that it has a perfect in-model fit, producing a confusion matrix where all values are on the diagonal.</p>

<p>The 3-fold cross-validation suggests that out-of-model predictions should be almost perfect too.  </p>

<pre><code class="r">print(modelFit)
</code></pre>

<pre><code>## Random Forest 
## 
## 15699 samples
##    52 predictors
##     5 classes: &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39; 
## 
## No pre-processing
## Resampling: Cross-Validated (3 fold) 
## 
## Summary of sample sizes: 10465, 10467, 10466 
## 
## Resampling results across tuning parameters:
## 
##   mtry  Accuracy  Kappa  Accuracy SD  Kappa SD
##   2     1         1      2e-04        3e-04   
##   30    1         1      7e-04        8e-04   
##   50    1         1      0.004        0.005   
## 
## Accuracy was used to select the optimal model using  the largest value.
## The final value used for the model was mtry = 27.
</code></pre>

<pre><code class="r">mean(predict(modelFit, training[intrain, ]) == training[intrain, ]$classe)
</code></pre>

<pre><code>## [1] 1
</code></pre>

<pre><code class="r">sum(predict(modelFit, training[intrain, ]) == training[intrain, ]$classe)
</code></pre>

<pre><code>## [1] 15699
</code></pre>

<pre><code class="r">sum(predict(modelFit, training[intrain, ]) != training[intrain, ]$classe)
</code></pre>

<pre><code>## [1] 0
</code></pre>

<pre><code class="r">confusionMatrix(predict(modelFit, training[intrain, ]), training[intrain, ]$classe)
</code></pre>

<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    A    B    C    D    E
##          A 4464    0    0    0    0
##          B    0 3038    0    0    0
##          C    0    0 2738    0    0
##          D    0    0    0 2573    0
##          E    0    0    0    0 2886
## 
## Overall Statistics
##                                 
##                Accuracy : 1     
##                  95% CI : (1, 1)
##     No Information Rate : 0.284 
##     P-Value [Acc &gt; NIR] : &lt;2e-16
##                                 
##                   Kappa : 1     
##  Mcnemar&#39;s Test P-Value : NA    
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity             1.000    1.000    1.000    1.000    1.000
## Specificity             1.000    1.000    1.000    1.000    1.000
## Pos Pred Value          1.000    1.000    1.000    1.000    1.000
## Neg Pred Value          1.000    1.000    1.000    1.000    1.000
## Prevalence              0.284    0.194    0.174    0.164    0.184
## Detection Rate          0.284    0.194    0.174    0.164    0.184
## Detection Prevalence    0.284    0.194    0.174    0.164    0.184
## Balanced Accuracy       1.000    1.000    1.000    1.000    1.000
</code></pre>

<p>Considering the fifth of training data observations withheld for validation, the suggested out-of model error is still small, but not quite so perfect. with an accuracy of over 99.5%.</p>

<pre><code class="r">mean(predict(modelFit, training[-intrain, ]) == training[-intrain, ]$classe)
</code></pre>

<pre><code>## [1] 0.9957
</code></pre>

<pre><code class="r">sum(predict(modelFit, training[-intrain, ]) == training[-intrain, ]$classe)
</code></pre>

<pre><code>## [1] 3906
</code></pre>

<pre><code class="r">sum(predict(modelFit, training[-intrain, ]) != training[-intrain, ]$classe)
</code></pre>

<pre><code>## [1] 17
</code></pre>

<pre><code class="r">confusionMatrix(predict(modelFit, training[-intrain, ]), training[-intrain, 
    ]$classe)
</code></pre>

<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    A    B    C    D    E
##          A 1115    3    0    0    0
##          B    0  753    1    0    0
##          C    0    3  681    6    0
##          D    0    0    2  637    1
##          E    1    0    0    0  720
## 
## Overall Statistics
##                                         
##                Accuracy : 0.996         
##                  95% CI : (0.993, 0.997)
##     No Information Rate : 0.284         
##     P-Value [Acc &gt; NIR] : &lt;2e-16        
##                                         
##                   Kappa : 0.995         
##  Mcnemar&#39;s Test P-Value : NA            
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity             0.999    0.992    0.996    0.991    0.999
## Specificity             0.999    1.000    0.997    0.999    1.000
## Pos Pred Value          0.997    0.999    0.987    0.995    0.999
## Neg Pred Value          1.000    0.998    0.999    0.998    1.000
## Prevalence              0.284    0.193    0.174    0.164    0.184
## Detection Rate          0.284    0.192    0.174    0.162    0.184
## Detection Prevalence    0.285    0.192    0.176    0.163    0.184
## Balanced Accuracy       0.999    0.996    0.996    0.995    0.999
</code></pre>

<p>There is also information about the importance of the different variables used for prediction, which can be seen on this plot. Belt measurements seem to tend to be more important while gyro measurements are often relatively less important. </p>

<pre><code class="r">plot(varImp(modelFit, scale = FALSE), xlim = c(0, 1500), main = &quot;Variable importance of 52 used in fitted model&quot;)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-8"/> </p>

<h2>Prediction of test set</h2>

<p>A fitted model allows prediction from the test set. The values need to be converted from a factor variable vector to characters before submission.</p>

<pre><code class="r">answers &lt;- as.character(predict(modelFit, testing))
answers
</code></pre>

<pre><code>##  [1] &quot;B&quot; &quot;A&quot; &quot;B&quot; &quot;A&quot; &quot;A&quot; &quot;E&quot; &quot;D&quot; &quot;B&quot; &quot;A&quot; &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;B&quot; &quot;A&quot; &quot;E&quot; &quot;E&quot; &quot;A&quot;
## [18] &quot;B&quot; &quot;B&quot; &quot;B&quot;
</code></pre>

<p>Unlike the validation set with over 3900 observations, the 20 observations in the provided test set are not sufficient to see precisely how close the out-of-model accuracy is in fact to 100% as one error would drop the result to 95%.  In fact, all 20 predictions were subsequently validated as correct. </p>

</body>

</html>

